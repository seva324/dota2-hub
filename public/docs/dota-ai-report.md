# Dota 2 AI 战报生成指南

> 本文档总结 AI 战报生成的方法论和数据来源。

---

## 一、基础数据映射

### 1.1 阵营映射（关键！）

```
radiant = 天辉 
dire = 夜魇 
```

### 1.2 分路映射

| 字段 | 含义 | 数值 |
|------|------|------|
| lane | 地图位置 | 1=上路，2=中路，3=下路 |
| lane_role | 队伍定位 | 1=优势路/一号位，2=中路/二号位，3=劣势路/三号位 |

---

## 二、比赛数据示例

### 比赛信息
- **Match ID**: 8693504706
- **对阵**: Team Spirit (天辉) vs Xtreme Gaming (夜魇)
- **比分**: 25:6
- **时长**: 39分25秒
- **结果**: Team Spirit 获胜

### 2.1 选手数据示例

**天辉 (Team Spirit)**:

| 选手 | 英雄 | lane (地图) | lane_role | KDA | GPM | XPM | 线优 |
|------|------|-------------|-----------|-----|-----|-----|------|
| Yatoro | 矮人直升机 | 1 (上路) | 1 (优势路) | 5/4/0 | 743 | 843 | 83% |
| panto | 发条技师 | 1 (上路) | 1 (优势路) | 1/7/2 | 183 | 319 | 28% |
| iceice | 虚无之灵 | 2 (中路) | 2 (中路) | 0/4/4 | 468 | 562 | 61% |
| rue | 森海飞霞 | 3 (下路) | 3 (劣势路) | 0/5/4 | 265 | 339 | 28% |
| Collapse | 半人马战行者 | 3 (下路) | 3 (劣势路) | 0/5/1 | 452 | 568 | 81% |

**夜魇 (Xtreme Gaming)**:

| 选手 | 英雄 | lane (地图) | lane_role | KDA | GPM | XPM | 线优 |
|------|------|-------------|-----------|-----|-----|-----|------|
| Ame | 龙骑士 | 3 (下路) | 1 (优势路) | 10/0/4 | 830 | 901 | 75% |
| NothingToSay | 灰烬之灵 | 2 (中路) | 2 (中路) | 7/1/14 | 627 | 766 | 81% |
| Xxs | 斯拉达 | 1 (上路) | 3 (劣势路) | 5/1/13 | 638 | 820 | 74% |
| fy | 暗影恶魔 | 1 (上路) | 3 (劣势路) | 0/1/15 | 301 | 468 | 29% |
| xNova | 马戏团长 | 3 (下路) | 1 (优势路) | 3/3/19 | 349 | 531 | 36% |

---

## 三、对线分析示例

### 3.1 按地图位置匹配 (lane 1 vs lane 1, lane 2 vs lane 2, lane 3 vs lane 3)

| 地图位置 | 天辉 | 夜魇 | 结果 |
|---------|------|------|------|
| 上路 (lane=1) | 矮人直升机+发条技师 | 斯拉达+暗影恶魔 | 夜魇优势 |
| 中路 (lane=2) | 虚无之灵 | 灰烬之灵 | 夜魇优势 |
| 下路 (lane=3) | 森海飞霞+半人马 | 龙骑士+马戏团长 | 天辉劣势路被爆 |

---

## 四、关键事件时间线示例

| 时间 | 事件 |
|------|------|
| 0:00 | 游戏开始 |
| 6:50 | 一血 (First Blood) |
| 21:06 | Ame 购买 BKB (关键装) |
| 22:12 | Xg 拿第一代肉山 |
| 23:50 | xg 破中路高地塔 |
| 26-33分 | xg 破三路超级兵 |
| 38:06 | xg 摧毁遗迹，获胜 |

---

## 五、战报模板

### 5.1 开篇
- 总结比赛基调（翻盘局 / 碾压局 / 膀胱局）
- 简述胜负结果

### 5.2 对线篇
- 按上路、中路、下路分析
- 指出压制点（如：Ame 劣势路 75% 线优反压制 Collapse）

### 5.3 节奏篇
- 关键装备分析（BKB、跳刀等）
- 装备后带来的节奏变化

### 5.4 高潮篇
- 关键团战还原
- 买活博弈

### 5.5 复盘
- 获胜关键
- 失败原因
- 改进建议

---

## 六、数据来源

### OpenDota API 关键字段

```typescript
interface Player {
  player_slot: number;    // 0-127 = 天辉, 128-255 = 夜魇
  hero_id: number;         // 英雄ID
  lane: number;            // 1=上路, 2=中路, 3=下路 (地图位置)
  lane_role: number;       // 1=优势路, 2=中路, 3=劣势路 (队伍视角)
  gold_t: number[];       // 时间序列金币
  xp_t: number[];         // 时间序列经验
  lh_t: number[];        // 时间序列正补
  dn_t: number[];         // 时间序列反补
  lane_kills: number;     // 线杀数
  lane_efficiency: number; // 线优率 (0-1)
  total_gold: number;     // 总金币
  total_xp: number;      // 总经验
  kills: number;         // 击杀
  deaths: number;        // 死亡
  assists: number;       // 助攻
}

interface Match {
  match_id: number;
  radiant_team_name: string;
  dire_team_name: string;
  radiant_win: boolean;
  duration: number;        // 秒
  players: Player[];
}
```

---

## 七、AI 战报风格指南

### 7.1 禁止词汇
- ❌ "游戏开始了"
- ❌ "最后他们赢了"
- ❌ "打得很激烈"

### 7.2 推荐词汇
- ✅ "战火燃起"
- ✅ "一波定乾坤"
- ✅ "逆风翻盘"
- ✅ "无解肥"
- ✅ "接管比赛"
- ✅ "节奏发动机"
- ✅ "提款机"

### 7.3 语气
- 专业精准
- 富有激情
- 使用电竞术语

---

*文档更新：2026年*
